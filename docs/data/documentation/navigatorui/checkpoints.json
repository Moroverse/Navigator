{"hierarchy":{"paths":[["doc:\/\/NavigatorUI\/documentation\/NavigatorUI","doc:\/\/NavigatorUI\/documentation\/NavigatorUI\/Navigator"]]},"metadata":{"modules":[{"name":"NavigatorUI"}],"roleHeading":"Article","title":"Checkpoints","role":"article"},"identifier":{"url":"doc:\/\/NavigatorUI\/documentation\/NavigatorUI\/Checkpoints","interfaceLanguage":"swift"},"abstract":[{"text":"Navigation Checkpoints allow one to return to a specific waypoint in the navigation tree.","type":"text"}],"sections":[],"schemaVersion":{"minor":3,"major":0,"patch":0},"seeAlsoSections":[{"identifiers":["doc:\/\/NavigatorUI\/documentation\/NavigatorUI\/NavigationTree","doc:\/\/NavigatorUI\/documentation\/NavigatorUI\/Destinations","doc:\/\/NavigatorUI\/documentation\/NavigatorUI\/Dismissible"],"generated":true,"title":"The Basics","anchor":"The-Basics"}],"kind":"article","primaryContentSections":[{"kind":"content","content":[{"type":"heading","text":"Overview","anchor":"Overview","level":2},{"inlineContent":[{"type":"text","text":"Like most systems based on NavigationStack, Navigator supports operations like popping back to a previous view, dismissing a presented view, and so on."}],"type":"paragraph"},{"code":["Button(\"Pop To Previous Screen\") {","    navigator.pop()","}","Button(\"Dismiss Presented View\") {","    navigator.dismiss()","}"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"type":"text","text":"But those are all imperative operations. While one can programmatically pop and dismiss their way out of a screen, that approach is problematic and tends to be fragile. It also assumes that the code has explicit knowledge of the application structure and navigation tree."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"One could pass bindings down the tree, but that can also be cumbersome and difficult to maintain.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Fortunately, Navigator supports checkpoints; named points in the navigation stack to which one can easily return."}]},{"type":"heading","anchor":"Examples","text":"Examples","level":2},{"anchor":"Defining-a-Checkpoint","level":3,"type":"heading","text":"Defining a Checkpoint"},{"type":"paragraph","inlineContent":[{"text":"Checkpoints are easy to define and use. Let’s create one called “home”.","type":"text"}]},{"type":"codeListing","code":["struct KnownCheckpoints: NavigationCheckpoint {","    public static var home: NavigationCheckpoint<Void> { checkpoint() }","}"],"syntax":"swift"},{"inlineContent":[{"type":"text","text":"Just conform your definitions to "},{"code":"NavigationCheckpoints","type":"codeVoice"},{"type":"text","text":" and specify the return type of the checkpoint (or void if none)."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Using "},{"type":"codeVoice","code":"{ checkpoint() }"},{"text":" ensures a checkpoint definition and name that’s unique. Here, that’s ","type":"text"},{"code":"KnownCheckpoints.home.()","type":"codeVoice"},{"type":"text","text":"."}]},{"type":"heading","text":"Establishing a Checkpoint","anchor":"Establishing-a-Checkpoint","level":3},{"inlineContent":[{"text":"Now lets attach that checkpoint to our home view.","type":"text"}],"type":"paragraph"},{"code":["struct RootHomeView: View {","    var body: some View {","        ManagedNavigationStack(scene: \"home\") {","            HomeContentView(title: \"Home Navigation\")","                .navigationCheckpoint(KnownCheckpoints.home)","                .navigationDestination(HomeDestinations.self)","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"level":3,"type":"heading","anchor":"Returning-to-a-Checkpoint","text":"Returning to a Checkpoint"},{"inlineContent":[{"text":"Once defined, they’re easy to use.","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["Button(\"Return To Checkpoint Home\") {","    navigator.returnToCheckpoint(KnownCheckpoints.home)","}",".disabled(!navigator.canReturnToCheckpoint(KnownCheckpoints.home))"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"When fired, checkpoints will dismiss any presented screens and pop any pushed views to return exactly where desired."}]},{"level":2,"type":"heading","anchor":"Advanced-Checkpoints","text":"Advanced Checkpoints"},{"level":3,"type":"heading","anchor":"Returning-values-to-a-Checkpoint","text":"Returning values to a Checkpoint"},{"inlineContent":[{"text":"Checkpoints can also be used to return values to a caller.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"As before we define our checkpoint, specifying the return value type."}]},{"type":"codeListing","syntax":"swift","code":["struct KnownCheckpoints: NavigationCheckpoint {","    public static var settings: NavigationCheckpoint<Int> { checkpoint() }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"We then establish our checkpoint, but this time we add a handler that receives our value type."}]},{"code":["\/\/ Define a checkpoint with a value handler.",".navigationCheckpoint(KnownCheckpoints.settings) { result in","    returnValue = result","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"And then later on when we’re ready to return we call ","type":"text"},{"type":"codeVoice","code":"returnToCheckpoint"},{"type":"text","text":" as usual, but in this case passing our return value as well."}],"type":"paragraph"},{"code":["\/\/ Return, passing a value.","Button(\"Return to Settings Checkpoint Passing Value 5\") {","    navigator.returnToCheckpoint(KnownCheckpoints.settings, value: 5)","}"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"The value type returned must match the checkpoint definition, otherwise you’ll get a compiler error.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Checkpoint return values come in handy when enabling state restoration in our navigation system, especially since view bindings and callback closures can’t be persisted to external storage.","type":"text"}]},{"name":"Important","style":"important","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The value types specified in the handler and sent by the return function must match. If they don’t then the handler will not be called."}]}],"type":"aside"},{"inlineContent":[{"text":"Checkpoints are a powerful tool. Use them.","type":"text"}],"type":"paragraph"}]}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/navigatorui\/checkpoints"]}],"references":{"doc://NavigatorUI/documentation/NavigatorUI/Navigator":{"kind":"symbol","abstract":[{"text":"Every ManagedNavigationStack has a Navigator to manage it.","type":"text"}],"role":"symbol","type":"topic","url":"\/documentation\/navigatorui\/navigator","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"Navigator"}],"navigatorTitle":[{"kind":"identifier","text":"Navigator"}],"title":"Navigator","identifier":"doc:\/\/NavigatorUI\/documentation\/NavigatorUI\/Navigator"},"doc://NavigatorUI/documentation/NavigatorUI/NavigationTree":{"url":"\/documentation\/navigatorui\/navigationtree","kind":"article","role":"article","title":"Understanding The Navigation Tree","type":"topic","abstract":[{"text":"To get the most out of Navigator you need to understand the navigation tree where its Navigators live.","type":"text"}],"identifier":"doc:\/\/NavigatorUI\/documentation\/NavigatorUI\/NavigationTree"},"doc://NavigatorUI/documentation/NavigatorUI":{"role":"collection","type":"topic","abstract":[],"identifier":"doc:\/\/NavigatorUI\/documentation\/NavigatorUI","url":"\/documentation\/navigatorui","kind":"symbol","title":"NavigatorUI"},"doc://NavigatorUI/documentation/NavigatorUI/Dismissible":{"identifier":"doc:\/\/NavigatorUI\/documentation\/NavigatorUI\/Dismissible","role":"article","type":"topic","abstract":[{"text":"Understanding dismissible views and their role in application navigation and deep linking.","type":"text"}],"url":"\/documentation\/navigatorui\/dismissible","title":"Dismissible Views","kind":"article"},"doc://NavigatorUI/documentation/NavigatorUI/Destinations":{"url":"\/documentation\/navigatorui\/destinations","kind":"article","role":"article","title":"Destinations","type":"topic","abstract":[{"text":"All navigation in Navigator is accomplished using enumerated values that conform to the NavigationDestination protocol.","type":"text"}],"identifier":"doc:\/\/NavigatorUI\/documentation\/NavigatorUI\/Destinations"}}}