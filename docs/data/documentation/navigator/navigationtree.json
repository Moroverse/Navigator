{"seeAlsoSections":[{"identifiers":["doc:\/\/Navigator\/documentation\/Navigator\/Destinations","doc:\/\/Navigator\/documentation\/Navigator\/Checkpoints"],"generated":true,"title":"The Basics","anchor":"The-Basics"}],"schemaVersion":{"patch":0,"major":0,"minor":3},"hierarchy":{"paths":[["doc:\/\/Navigator\/documentation\/Navigator"]]},"metadata":{"modules":[{"name":"Navigator"}],"roleHeading":"Article","role":"article","title":"The Navigation Tree"},"primaryContentSections":[{"content":[{"text":"Overview","anchor":"Overview","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"NavigationStacks are managed by Navigators. Each "},{"identifier":"doc:\/\/Navigator\/documentation\/Navigator\/ManagedNavigationStack","type":"reference","isActive":true},{"text":" used in your code creates its own ","type":"text"},{"identifier":"doc:\/\/Navigator\/documentation\/Navigator\/Navigator","type":"reference","isActive":true},{"text":" and places an instance of that object into the environment for use by the views contained within it.","type":"text"}]},{"inlineContent":[{"type":"text","text":"That allows "},{"inlineContent":[{"text":"those","type":"text"}],"type":"emphasis"},{"text":" views to talk to ","type":"text"},{"inlineContent":[{"text":"their","type":"text"}],"type":"emphasis"},{"text":" navigator.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"One exception is the “root” Navigator that’s usually configured and installed in the main application. That “root” passes the configuration along to its children and also allows for communication in instances like tabs where each tab has its own ManagedNavigationStack.","type":"text"}]},{"text":"The Navigation Tree","type":"heading","anchor":"The-Navigation-Tree","level":2},{"inlineContent":[{"type":"text","text":"If you look at the code for "},{"code":"ManagedNavigationStack","type":"codeVoice"},{"text":" (and ","type":"text"},{"code":"ManagedPresentationView","type":"codeVoice"},{"type":"text","text":"), you’ll see where each one gets the current Navigator. That Navigator is then passed to the navigation state as its “parent”, which in turn is used to build a navigation tree."}],"type":"paragraph"},{"code":["public struct ManagedPresentationView<Content: View>: View {","    @Environment(\\.navigator) private var parent: Navigator","    @Environment(\\.isPresented) private var isPresented","    ...","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Every Navigator created within your application lives within that tree."}]},{"inlineContent":[{"text":"And that tree, in turn, is the key that unlocks much of Navigator’s power and functionality.","type":"text"}],"type":"paragraph"},{"text":"TabViews","anchor":"TabViews","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"Here’s a rough chart that illustrates the navigation tree of a running application that’s using a TabView."}],"type":"paragraph"},{"syntax":null,"code":["Application (Root Navigator)","TabView","-- Tab1: ManagedNavigationStack (New Navigator, Root as Parent)","-- Tab2: ManagedNavigationStack (New Navigator, Root as Parent)","-- Tab3: ManagedNavigationStack (New Navigator, Root as Parent)","---- Sheet: ManagedNavigationStack (New Navigator, Tab 3's as Parent)","------- Cover: ManagedNavigationStack (New Navigator, Presented Navigator is Parent)"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"Each tab wants to manage its own navigation, so each one has its own "},{"type":"codeVoice","code":"ManagedNavigationStack"},{"type":"text","text":" and its own "},{"type":"codeVoice","code":"Navigator"},{"text":".","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"This should make sense. If a view within tab 2 wants to push a new view onto the stack, then it needs to be talking to the right navigator."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"It doesn’t want the view pushed onto tab 3’s stack, does it?"}]},{"type":"paragraph","inlineContent":[{"text":"That concept extends to presented sheets and covers as shown in tab 3. Each ","type":"text"},{"code":"ManagedNavigationStack","type":"codeVoice"},{"type":"text","text":" is installing its own Navigator into the tree, each one linked back to its parent."}]},{"type":"paragraph","inlineContent":[{"text":"Every ","type":"text"},{"type":"codeVoice","code":"ManagedNavigationStack"},{"text":" creates its own ","type":"text"},{"type":"codeVoice","code":"Navigator"},{"text":" that manages it.","type":"text"}]},{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"There are also ManagedPresentationViews, but that’s another topic."}],"type":"emphasis"}]},{"level":2,"text":"Example Code","anchor":"Example-Code","type":"heading"},{"inlineContent":[{"type":"text","text":"So with all of the above in mind, consider the following example."}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["struct ContentView: View {","    @Environment(\\.navigator) var parentNavigator","    var body: some View {","        ManagedNavigationStack { navigator in","            VStack {","                Button(\"Doesn't work as expected\") {","                    parentNavigator.navigate(to: Destinations.second)","                }","                Button(\"Works as expected\") {","                    navigator.navigate(to: Destinations.second)","                }","                SomeView()","            }","            .navigationDestination(Destinations.self)","        }","    }","}"]},{"inlineContent":[{"type":"text","text":"Using an environment variable gets the current “parent” Navigator in the tree. (Root in this case.)"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"But "},{"type":"codeVoice","code":"ManagedNavigationStack"},{"text":" creates and installs a ","type":"text"},{"inlineContent":[{"type":"text","text":"new"}],"type":"emphasis"},{"type":"text","text":" Navigator into the environment, one that knows how to talk to it."}]},{"inlineContent":[{"text":"Which means that the code in the first button fails because it’s talking to the wrong Navigator. If you want to manipulate the ","type":"text"},{"inlineContent":[{"type":"text","text":"current"}],"type":"emphasis"},{"text":" NavigationStack and the designations that ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"it","type":"text"}]},{"text":" knows about, you need to be talking to ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"its","type":"text"}]},{"type":"text","text":" Navigator."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"One way to do that is to use the Navigator passed to the ManagedNavigationStack’s closure. That’s shown in the second example."}]},{"type":"codeListing","syntax":"swift","code":["ManagedNavigationStack { navigator in","    ...","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Another is to use the environment. Wait. What?"}]},{"type":"heading","level":2,"text":"The Environment","anchor":"The-Environment"},{"type":"paragraph","inlineContent":[{"text":"Let’s consider  ","type":"text"},{"type":"codeVoice","code":"SomeView"},{"type":"text","text":"."}]},{"syntax":"swift","code":["struct SomeView: View {","    @Environment(\\.navigator) var navigator","    var body: some View {","        Button(\"Also works as expected\") {","            navigator.navigate(to: Destinations.second)","        }","    }","}"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"Here’s we’re also pulling from the environment, but in this case the code works as expected since "},{"type":"emphasis","inlineContent":[{"type":"text","text":"its"}]},{"type":"text","text":" environment variable is reading the "},{"type":"emphasis","inlineContent":[{"text":"current","type":"text"}]},{"type":"text","text":" environment variable, which is the one installed by the current "},{"code":"ManagedNavigationStack","type":"codeVoice"},{"type":"text","text":"."}],"type":"paragraph"},{"level":2,"text":"Walking The Tree","anchor":"Walking-The-Tree","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"But what if I want to talk to a different Navigator?"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"That’s more advanced. One can "},{"type":"codeVoice","code":"find"},{"text":" a named Navigator in the tree, but generally you’re going to want to consider other functionality offered by Navigator, like ","type":"text"},{"identifier":"doc:\/\/Navigator\/documentation\/Navigator\/Checkpoints","isActive":true,"type":"reference"},{"text":", or deep linking using ","type":"text"},{"type":"codeVoice","code":"send"},{"type":"text","text":"."}]}],"kind":"content"}],"abstract":[{"type":"text","text":"To get the most out of Navigator, you need to understand the navigation tree where its Navigators live."}],"variants":[{"paths":["\/documentation\/navigator\/navigationtree"],"traits":[{"interfaceLanguage":"swift"}]}],"kind":"article","sections":[],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/Navigator\/documentation\/Navigator\/NavigationTree"},"references":{"doc://Navigator/documentation/Navigator/Destinations":{"identifier":"doc:\/\/Navigator\/documentation\/Navigator\/Destinations","kind":"article","type":"topic","url":"\/documentation\/navigator\/destinations","title":"Destinations","role":"article","abstract":[{"text":"All navigation in Navigator is accomplished using enumerated values that conform to the NavigationDestination protocol.","type":"text"}]},"doc://Navigator/documentation/Navigator/Checkpoints":{"role":"article","title":"Checkpoints","identifier":"doc:\/\/Navigator\/documentation\/Navigator\/Checkpoints","type":"topic","url":"\/documentation\/navigator\/checkpoints","abstract":[{"type":"text","text":"Navigation Checkpoints allow one to return to a specific waypoint in the navigation tree."}],"kind":"article"},"doc://Navigator/documentation/Navigator/Navigator":{"navigatorTitle":[{"text":"Navigator","kind":"identifier"}],"type":"topic","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"Navigator"}],"title":"Navigator","abstract":[{"text":"Every ManagedNavigationStack has a Navigator to manage it.","type":"text"}],"identifier":"doc:\/\/Navigator\/documentation\/Navigator\/Navigator","role":"symbol","kind":"symbol","url":"\/documentation\/navigator\/navigator"},"doc://Navigator/documentation/Navigator/ManagedNavigationStack":{"navigatorTitle":[{"text":"ManagedNavigationStack","kind":"identifier"}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"ManagedNavigationStack"}],"kind":"symbol","abstract":[{"type":"text","text":"Creates a NavigationStack and its associated Navigator that “manages” the stack."}],"identifier":"doc:\/\/Navigator\/documentation\/Navigator\/ManagedNavigationStack","type":"topic","title":"ManagedNavigationStack","role":"symbol","url":"\/documentation\/navigator\/managednavigationstack"},"doc://Navigator/documentation/Navigator":{"identifier":"doc:\/\/Navigator\/documentation\/Navigator","role":"collection","title":"Navigator","url":"\/documentation\/navigator","kind":"symbol","type":"topic","abstract":[{"text":"Managed NavigationStacks for SwiftUI.","type":"text"}]}}}