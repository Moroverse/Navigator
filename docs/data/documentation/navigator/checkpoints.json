{"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/navigator\/checkpoints"]}],"sections":[],"metadata":{"modules":[{"name":"Navigator"}],"role":"article","title":"Checkpoints","roleHeading":"Article"},"schemaVersion":{"major":0,"minor":3,"patch":0},"hierarchy":{"paths":[["doc:\/\/Navigator\/documentation\/Navigator"]]},"seeAlsoSections":[{"generated":true,"anchor":"The-Basics","identifiers":["doc:\/\/Navigator\/documentation\/Navigator\/Destinations"],"title":"The Basics"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/Navigator\/documentation\/Navigator\/Checkpoints"},"kind":"article","abstract":[{"type":"text","text":"Navigation Checkpoints allow one to return to a specific waypoint in the navigation tree."}],"primaryContentSections":[{"kind":"content","content":[{"level":2,"type":"heading","text":"Overview","anchor":"Overview"},{"inlineContent":[{"type":"text","text":"While one can programmatically pop and dismiss their way out of a screen, that approach is problematic and fragile. One could pass bindings down the tree, but that can be equally problematic at worst, and cumbersome at best."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Fortunately, Navigator supports checkpoints; named points in the navigation stack to which one can easily return."}]},{"anchor":"Examples","text":"Examples","type":"heading","level":2},{"anchor":"Defining-a-Checkpoint","text":"Defining a Checkpoint","level":3,"type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Checkpoints are easy to define and use. Let’s create one called “home”."}]},{"type":"codeListing","code":["extension NavigationCheckpoint {","    public static let home: NavigationCheckpoint = \"myApp.home\"","}"],"syntax":"swift"},{"text":"Establishing a Checkpoint","type":"heading","anchor":"Establishing-a-Checkpoint","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Now lets attach that checkpoint to our home view."}]},{"code":["struct RootHomeView: View {","    var body: some View {","        ManagedNavigationStack(scene: \"home\") {","            HomeContentView(title: \"Home Navigation\")","                .navigationCheckpoint(.home)","                .navigationDestination(HomeDestinations.self)","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"anchor":"Returning-to-a-Checkpoint","text":"Returning to a Checkpoint"},{"type":"paragraph","inlineContent":[{"text":"Once defined, they’re easy to use.","type":"text"}]},{"code":["Button(\"Return To Checkpoint Home\") {","    navigator.returnToCheckpoint(.home)","}",".disabled(!navigator.canReturnToCheckpoint(.home))"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When fired, checkpoints will dismiss any presented screens and pop any pushed views to return exactly where desired."}]},{"type":"heading","anchor":"Advanced-Checkpoints","level":2,"text":"Advanced Checkpoints"},{"level":3,"anchor":"Returning-values-to-a-Checkpoint","type":"heading","text":"Returning values to a Checkpoint"},{"inlineContent":[{"type":"text","text":"Checkpoints can also be used to return values to a caller."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"First we establish our checkpoint, but also adding a handler that receives a specific value type.","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["\/\/ Define a checkpoint with a value handler.",".navigationCheckpoint(.settings) { (result: Int?) in","    returnValue = result","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"And then later on when we’re ready to return we call "},{"type":"codeVoice","code":"returnToCheckpoint"},{"text":" as usual, but in this case passing our return value as well.","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["\/\/ Return, passing a value.","Button(\"Return to Settings Checkpoint Passing Value 5\") {","    navigator.returnToCheckpoint(.settings, value: 5)","}"]},{"type":"paragraph","inlineContent":[{"text":"This comes in handy when enabling state restoration in our navigation system, especially since view bindings and callback closures can’t be persisted to external storage.","type":"text"}]},{"content":[{"inlineContent":[{"text":"The value types specified in the handler and sent by the return function must match. If they don’t then the handler will not be called.","type":"text"}],"type":"paragraph"}],"style":"important","type":"aside","name":"Important"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Checkpoints are a powerful tool. Use them."}]}]}],"references":{"doc://Navigator/documentation/Navigator":{"identifier":"doc:\/\/Navigator\/documentation\/Navigator","abstract":[{"type":"text","text":"Managed NavigationStacks for SwiftUI."}],"url":"\/documentation\/navigator","title":"Navigator","kind":"symbol","role":"collection","type":"topic"},"doc://Navigator/documentation/Navigator/Destinations":{"title":"Destinations","type":"topic","role":"article","abstract":[{"text":"All navigation in Navigator is accomplished using enumerated values that conform to the NavigationDestination protocol.","type":"text"}],"kind":"article","identifier":"doc:\/\/Navigator\/documentation\/Navigator\/Destinations","url":"\/documentation\/navigator\/destinations"}}}